# 第一章

* ### 设计现代OS的主要目标是什么？

  ①有效性

  ②方便性

  ③可扩充性

  ④开放性

* ### 试说明推动多道批处理系统形成和发展的主要动力是什么？

  ①提高资源利用率

  ②系统吞吐量

  ③方便用户

  ④器件的不断更新换代

  ⑤计算机体系结构的不断发展 

* ### 试说明推动分时系统形成和发展的主要动力是什么？

  主要动力：为了满足用户对人机交互的需求

  主要表现在：①CPU的分时使用缩短了作业的平均周转时间

  ​		      ②人机交互能力使用户能直接控制自己的作业

  ​		      ③主机共享使多用户可以同时使用同一台计算机，独立地处理自己的作业

* ### 为什么要引入实时操作系统？

  实时操作系统：能及时响应外部事件的请求，在规定时间内完成对该事件的处理，并控制所有实时任务协调一致地进行

  引入的原因：①满足应用的需求②更好地满足实时控制领域和实时信息处理领域的需求

* ### OS有哪几大特性，其中最基本的特性是什么？

  四个基本特性：①并发性  ②共享性  ③虚拟性  ④异步性

  最基本的：并发性和共享性

* ### 什么是微内核OS？

  ①足够小的内核，它并非是一个完整的OS，只是将操作系统中最最基本的部分放入到微内核里

  ②基于客户/服务器模式，在①的基础上把操作系统绝大部分功能放到微内核外面的一组服务器中实现。

  ③应用“机制与策略分离”的原理。

  ④采用面对对象的技术

* #### 用户可以通过（命令接口和系统调用）两种方式来使用计算机

* #### 系统调用是有操作系统提供给用户的，它（只能通过用户程序简介调用）

* #### 系统调用的目的是（请求系统服务）

* #### ★★ 为了方便用户直接或间接地控制自己的作业，操作系统向用户提供了命令接口，该接口又可进一步分为（联机用户接口和脱机用户接口） 

* #### ★★ 操作系统与用户通信接口通常不包括（缓存管理指令）：一般有shell、命令解释器、广义指令等

* #### 单处理机系统中，（进程）是不可并行的。（处理机与设备、处理机与通道、设备与设备）是能并行的

* #### ★★ 提高单机资源利用率的关键技术是（多道程序设计技术）：这里注意是资源利用，所以不是虚拟技术，而且虚拟技术也是建立在多道技术上的

* #### 批通道的主要缺点是（无交互能力）

* #### 实时系统必须在（被控制对象规定时间）内处理来自外部的事件

* #### 实时系统的进程调度，通常采用（抢占式的优先级高者优先）算法

* ####  ★★ （资源利用率）不是设计实时操作系统的主要追求目标：安全可靠、及时响应、快速处理

* #### 分时系统的一个重要性能是系统的响应时间，对操作系统（优先级+非抢占式调度算法）因素进行改进有利于改善系统的响应时间

* ####  ★★（中断处理）是操作系统必须系统的功能，而非：图形界面、为进程提供系统调用命令、编译源程序

* ####  ★★ 特权指令只允许（操作系统）使用

* ####  ★★ 从核心态到用户态的转换是由（操作系统程序）执行后完成的，用户态到核心态的转换是由（硬件）完成的

* #### ★★ 访管指令仅在（用户态）下使用

* #### ★★在操作系统中，只能在核心态下执行的指令是（广义指令），核心态下（除访管指令）其他都能执行

* #### ★★ 下列不可能在用户态发生的事件是（进程切换），可能发生的是：系统调用、外部中断、缺页

* #### 计算机开机后，操作系统最终被加载到（RAM）

* #### ★★ 会导致用户态切换到核心态的操作：（系统调用、异常、外围设备的中断）

* ```txt
   内部异常（内中断）可分为故障（fault）、陷阱（trap）和终止（abort）三类。下列有关内部异常的叙述中，错误的（ c ）。
   A、内部异常的产生与当前执行指令相关
   B、内部异常的检测由CPU内部逻辑实现
   C、内部异常的响应发生在指令执行过程中
   D、内部异常处理后返回到发生异常的指令继续执行
   ```

* ```txt
   处理外部中断时，应该由操作系统保存的是（ B ）。
   A、程序计数器（PC）的内容
   B、通用寄存器的内容
   C、块表（TLB）中的内容
   D、Cache中的内容
   ```

* ```txt
   假定下列指令已装入指令寄存器。则执行时不可能导致CPU从用户态变为内核态（系统态）的是（ C ）。
   A、DIV R0,R1		;(R0)/(R1)→R0
   B、INT n			;产生软中断
   C、NOT R0		;寄存器R0的内容取非
   D、MOV R0,addr	;把地址addr处的内存数据放入寄存器R0中
   ```

* ```txt
   下列关于批处理系统的叙述中，正确的是（ A ）。
   Ⅰ.批处理系统允许多个用户与计算机直接交互
   Ⅱ.批处理系统分为单道批处理系统和多道批处理系统
   Ⅲ.中断技术使得多道批处理系统和I/O设备可与CPU并行工作
   A、仅Ⅱ、Ⅲ		B、仅Ⅱ
   C、仅Ⅰ、Ⅱ		D、仅Ⅰ、Ⅲ
   ```

* ```txt
   异常是指令执行过程中在处理器内部发生的特殊事件，中断是来自处理器外部的请求事件。下列关于中断或异常情况的叙述中，错误的是（ A ）。
   A、“访存时缺页”属于中断
   B、“整数除以0”属于异常
   C、“DMA传送结束”属于中断
   D、“存储保护错”属于异常
   ```

* ```txt
   与单道程序系统相比，多道程序系统的优点是（ D ）。
   Ⅰ.CPU利用率高		Ⅱ.系统开销小
   Ⅲ.系统吞吐量大		Ⅳ.I/O设备利用率高
   
   A、仅Ⅰ、Ⅲ		B、仅Ⅰ、Ⅳ
   C、仅Ⅱ、Ⅲ		D、仅Ⅰ、Ⅲ、Ⅳ
   
   ```

* ```txt
   执行系统调用的过程包括如下主要操作：
   ①返回用户态	
   ②执行陷入（trap）指令
   ③传递系统调用参数	
   ④执行响应的服务程序
   正确的执行顺序是（  C ）。   
   A、②→③→①→④		B、 ②→④→③→① 
   C、③→②→④→① 		D、 ③→④→②→①
   3241
   ```

   ```txt
   8.下列关于操作系统的说法中， 错误的是（ A）
   Ⅰ.在通用操作系统管理下的计算机上运行程序，需要向操作系统预订运行时间
   Ⅱ.在通用操作系统管理下的计算机上运行程序，需要确定起始地址，并从这个地址开始执行
   Ⅲ.操作系统需要提供高级程序设计语言的编译器
   Ⅳ.管理计算机系统资源是操作系统关心的主要问题
   
   A、Ⅰ、Ⅲ				B、Ⅱ、Ⅲ
   C、Ⅰ、 Ⅱ、Ⅲ、Ⅳ		D、以上答案都正确
   
   ```

   ```txt
   9.下列说法正确的是（ C ）
   Ⅰ.批处理的主要缺点是需要大量内存
   Ⅱ.当计算机提供了核心态和用户态时，输入/输出指令必须在核心态下执行
   Ⅲ.操作系统中采用多道程序设计技术的最主要原因是为了提高CPU和外部设备的可靠性
   Ⅳ.操作系统中，通道技术是一种硬件技术
   A、Ⅰ、Ⅱ		B、Ⅰ、Ⅲ
   C、Ⅱ、Ⅳ		D、Ⅱ、Ⅲ、Ⅳ
   ```

* ```txt
   10.下列关于系统调用的说法正确的是（  C）
   Ⅰ.用户程序设计时，使用系统调用命令，该命令经过编译后，形成若干参数和陷入（trap）指令
   Ⅱ.用户程序设计时，使用系统调用命令，该命令经过编译后，形成若干参数和屏蔽中断指令
   Ⅲ.系统调用功能是操作系统向用户程序提供的接口
   Ⅳ.用户及其应用程序和应用系统是通过系统调用提供的支持和服务来使用系统资源完成其操作的
   
   A、Ⅰ、Ⅲ			B、Ⅱ、Ⅳ
   C、Ⅰ、Ⅲ、Ⅳ		   D、Ⅱ、Ⅲ、Ⅳ
   
   ```

* ```txt
   17.相对于传统操作系统结构，采用微内核结构设计和实现操作系统具有诸多好处，哪些是微内核结构的特点（C ）
   Ⅰ.使系统更高效
   Ⅱ.添加系统服务时，不必修改内核
   Ⅲ.微内核结构没有单一内核稳定
   Ⅳ.使系统更可靠
   A、Ⅰ、Ⅲ、Ⅳ			B、Ⅰ、Ⅱ、Ⅳ
   C、Ⅱ、Ⅳ			D、Ⅰ、Ⅳ
   ```

* ```txt
   中断处理和子程序调用都需要压栈以保护现场，中断处理一定会保存而子程序调用不需要保存其内容的是（ B ）。
   A、程序计数器
   B、程序状态字寄存器
   C、通用数据寄存器
   D、通用地址寄存器
   ```



# 第二章

* ### 什么是前驱图，为什么要引入前驱图

  前驱图是一个有向无循环图，用于描述进程之间执行的前后关系

* ### 试画出下面四条语句的前驱图

  S1: a = x + y

  S2: b = z + 1

  S3: c = a - b 

  S4: d = c + 1

  ![](https://ws1.sinaimg.cn/large/0067fcixly1fygrwjop9oj30b6040dfo.jpg)

* ### 为什么程序并发执行会产生间断性特征

  程序在并发时，由于他们共享资源，以及为完成同一项任务而相互合作，导致这些并发的进程之间形成了相互制约的关系，进而产生了间断性特征

* ### 在操作系统中为什么要引入进程的概念？他会产生什么样的影响？

  为什么：为了使程序在多道程序环境下能并发执行，并对并发执行的程序加以控制和描述，才引入了进程的概念。

  影响：使程序的并发执行得以实行

* ### 试说明进程在三个基本状态之间转换的典型原因

  ①就绪  -- >  执行  ： 进程分配到CPU资源

  ②执行  -- >  就绪   ： 时间片用完

  ③执行  -- >  阻塞   ：  I/O请求

  ④阻塞   -- >   就绪  ： I/O完成

* ### 为什么要引入挂起状态？该状态有那些性质

  为什么：①终端用户需要②父进程需要③操作系统需要④对换操作需要⑤负荷调节需要

  性质：处于挂起状态的进程不能接受处理机的调度

* ### 引起进程创建的主要事件

  ①用户登录

  ②作业调度

  ③提供服务

  ④应用请求

* ### 试说明引起进程被撤销的主要事件

  ① 正常结束

  ② 异常结束 ： 越界、I/O故障、运行超时、请求超时等

  ③ 外界干预 ： 操作员或操作系统干预，父进程请求，父进程终止等

* ### 试说明引起进程阻塞或被唤醒的主要事件是什么？

  ①请求系统服务

  ②等待某种操作的完成

  ③新数据尚未到达

  ④等待新任务的到达

* ### 为什么要在OS中引入线程

  减少程序在并发执行时所付出的时空开销，让OS有更好的并发性，提高CPU的利用率。

  进程是分配资源的基本单位，而线程是系统调度的基本单位，同一进程中的所有线程共享进程的地址空间

* ### 何谓用户级线程和内核支持线程

  用户级：仅存在于用户空间中，无需内核支持。他的创建、撤销、线程间同步与通信等功能，都无需利用系统调用实现。用户级线程的切换通常发生在一个应用进程的诸多线程之间，同样也不需要内核的支持

  内核支持线程：在内核支持下运行的线程，无论是用户进程中的线程，还是系统进程中的线程，其创建、撤销和切换等都是依赖内核，在内核空间中实现。在内核空间中还为每个内核支持线程设置了线程控制块，内核根据该控制块进行线程的控制 

  **特点**

  内核支持：**内核支持线程具有很小的数据结构和堆栈，线程切换快，开销小**，**对用户的线程切换而言开销较大，需要从用户态转到核心态，分配时间以线程数来定**

  用户级：分配时间以进程数来定。切换不用进内核空间，系统无法感知到用户级线程的存在



  ### 填空题

  * (1)对于一个可执行程序文件，该程序与执行它的进程是___（一对多）___的关系。
  * (2)在单CPU系统中实现并发技术后________A____。
    A.进程在一个时间段内并行执行，CPU与外设并行工作。
    B.进程在一个时刻并行执行，CPU与外设并行工作。
    C.进程在一个时间段内并行执行，CPU与外设串行工作。
    D.进程在一个时刻并行执行，CPU与外设串行工作。
  * (3)从静态角度上看，进程是由__（PCB）____、__（_程序段_）___、___（数据段）____三部分组成。
  * (4)正在执行的进程由于用完其时间片而被暂停执行，此时进程应从执行状态变成为____（就绪状态）_____
  * (5)引入进程，可带来_________（资源利用率提高）_______和（系统吞吐量增加）的好处，但却增加了系统的（时间）和_（空间）__开销。
  * (6)临界区是指进程中用于（访问临界资源）的那段代码。
  * （整型信号量）是一种只能由P和V操作所改变的整型变量，（整型信号量）可用于实现进程的（同步）和（互斥），（互斥）是指排他性地访问临界资源。
  * 8)设有6个进程共享同一互斥段，若最多允许有3个进程进入互斥段，则所采用的互斥信号量的初值为__3__。
  * 有3个进程共享同一程序段，而每次最多允许两个进程进入该程序段，若用P、V操作作同步机制，则记录型信号量S的取值范围为_______2, 1, 0, -1___。
  * 为实现消息缓冲通信，在PCB中应增加_________消息队列首指针____、_________消息队列互斥信号量_________和_________消息队列资源信号量_________三个数据项。
  * `

  ```txt
  二、应用题
  5.某寺庙有小、老和尚若干，有一水缸，由小和尚提水入缸供老和尚饮用。水缸可以容纳10桶水，水取自同一井水。水井狭窄，每次只能容一个桶取水。水桶总数为3个。每次入、出水缸仅一桶，且不可同时进行。试给出有关取水、入水的算法描述。
  Var mutex1, mutex2, empty, full, count: semaphore;
  mutex1:=1; mutex2:=1;
  empty:=10; full:=0; count:=3;
  
  process 小和尚: 
        begin
            repeat
            P(empty);
            P(count);
            P(mutex1);
            从井中取水；
            V(mutex1);
            P(mutex2);
            送水入水缸；
            V(mutex2);
            V(count);
            V(full);
            until false;  
   	  end
   	  
   	  
  process 老和尚: 
        begin
            repeat
            P(full);
            P(count);
            P(mutex2);
            从缸中取水；
            V(mutex2);
            V(empty);
            V(count);
            until false;  
       end
  ```



  ```txt
  Var S1, S2: semaphore:=1,0;
  process A: 
        begin
            repeat
            P(S1);
            拣黑子；
            V(S2);
            until false;  
       end
       
  process B: 
        begin
            repeat
            P(S2);
            拣白子；
            V(S1);  
            until false
        end
  ```

  ```txt
  二、应用题
  3.独木桥问题。某条河上只有一座独木桥，以便行人过河。现在河的两边都有人要过桥，按照下面的规则过桥。为了保证过桥安全，请用P、V操作分别实现正确的管理。
          过桥的规则是：每次只有一个人通过桥。
  Var mutex: semaphore;
  process (E-W)i: 
  begin
  P(mutex);
  过桥；
  V(mutex);  
  end
  
  process (W-E)j: 
  begin
  P(mutex);
  过桥；
  V(mutex);  
  end
  ```

  ```txt
  购物问题。某超级市场，可容纳100个人同时购物，入口处备有篮子，每个购物者可持一个篮子入内购物。出口处结账，并归还篮子（出、入口仅容纳一人通过）。请用P、V操作完成购物同步算法。
  Var S, mutex1, mutex2: semaphore;
  S:=100; mutex1:=1; mutex2:=1
  process Pi: 
  begin
  P(S);
  P(mutex1);
  进入口处，取一只篮子；
  V(mutex1);
  选购商品;
  P(mutex2);
  结账，并归还篮子；
  V(mutex2);
  V(S); 
  end
  ```

  ```txt
  二、应用题
  3.独木桥问题。某条河上只有一座独木桥，以便行人过河。现在河的两边都有人要过桥，按照下面的规则过桥。为了保证过桥安全，请用P、V操作分别实现正确的管理。
          过桥的规则是：同一方向的可连续过桥，某方向有人过桥时另一方向的人要等待。
          
  Var S, S1, S2: semaphore;
  rc1,rc2: integer;
  S, S1, S2:=1;
  rc1,rc2:=0; 
  
  process (E-W)i: 
  begin
  	P(S1);
  	rc1:=rc1+1;
  	if rc1=1 then P(S);
  	V(S1);
  	过桥；
  	P(S1);
  	rc1:=rc1-1;
  	if rc1=0 then V(S);
  	V(S1);  
  end
  
  process (W-E)j: 
  begin
  	P(S2);
  	rc2:=rc2+1;
  	if rc2=1 then P(S);
  	V(S2);
  	过桥；
  	P(S2);
  	rc2:=rc2-1;
  	if rc2=0 then V(S);
  	V(S2);  
  end
  
  S信号量就不解释了
  S1和S2是为了让每次
  ```

  ```txt
  二、应用题
  1.设有无穷多个缓冲区和无穷多个信息，A进程把信息逐个的写入每个缓冲区，B进程则逐个地从缓冲区中取出信息。
  试问：(1)两个进程之间的制约关系；
  	B进程不能超前A进程，但A进程不受B进程的约束。
  	(2)用P、V操作写出两进程的同步算法，并给出信号量的初值；	
      Var S: semaphore := 0;
      begin
      parbegin
      process A: 
      begin
      i:=0;
      L: i:=i+1;
      写入第i个缓冲区；
      V(S);
      goto L; 
      end
  
  process B: 
  begin
  j:=0;
  M: j:=j+1;
  P(S);
  读出第j个缓冲区信息；
  goto M; 
  end
  parend;
  end
  	(3)指出信号量的值的变化范围和其值的含义。
  	信号量S的值域为[-1, ∞]中的整数，当S=-1时，表示缓冲区从未写入或B读空，且B要求进一步读出，也即B超前A欲读取信息。
  ```

  ```txt
  (18)下列原语中，能进行进程通信的原语是___C___和____D__ 。
  A.挂起/撤销	B.创建/撤销	C. P、V操作	D.锁/开锁
  (19)消息缓冲队列通信中的临界资源是___B___ 。
  A.队列中的某个消息缓冲区		B.整个消息缓冲队列
  C.信箱					D.管道
  (20)处于执行状态中的进程若同时发生了下列两种情况：(a)对某信号量执行P操作后，其结果为负；(b)时间片到了中断发生。则该进程将由执行状态变迁为___A___状态。
  A.阻塞		B.就绪		C.阻塞或就绪		D.不定
  
  记录型信号量中，当信号量为负时，进程会调用block原语进行自我阻塞
  ```

  ```txt
  (17)在直接通信方式中，系统通常提供的两条通信原语如下，请选择适当的参数填入。
  	Send(___B___, ___D___);	 Receive(___A___, ___D___);
  A.Sender	B.Receiver	C.text	  D.message	E.mailbox
  ```

  ```txt
  (16)下列关于进程的描述中，正确的是____A__。
  A.进程获得CPU而运行是通过调度得到的。
  B.优先级是进行进程调度的重要依据，一旦确定不能改变。
  C.在单CPU系统中，任一时刻都有1个进程处于运行状态。
  D.进程申请CPU得不到满足时，其状态变为等待状态。
  ```

  ```txt
  (14)下列各项工作步骤中，___B___不是创建进程所必须的步骤。
  A.建立一个PCB		C.为进程分配内存等必要资源
  B.阻塞进程			D.将PCB连接入进程就绪队列
  ```

  ```txt
  (12)当___B___时，进程从执行状态转变为就绪状态。
  A.进程被调度程序选中	B.有高优先级进程到来
  C.等待某一事件	 	D.等待的事件发生
  ```

  ```txt
  (13)在进程转换时，下列___D___转换是不可能发生的。
  A.就绪态→执行态		B.执行态→就绪态
  C.执行态→阻塞态	 	D.阻塞态→执行态
  ```

  ```txt\
  1.下列关于线程的叙述中，正确的是（ A ）
  A、线程包含CPU现场，可以独立执行程序
  B、每个线程有自己独立的地址空间
  C、进程只能包含一个线程
  D、线程之间的通信必须使用系统调用函数
  
  线程本身并不拥有系统资源，只有能保证自己独立运行的资源，同一进程所有线程都是同样的地址空间。多个线程能共享该进程所拥有的资源。
  ```

  ```txt
  4.在单处理机系统中，如果同时存在10个进程，则处于就绪队列中的进程最多有（ C ）个。
  A、1	B、8		C、9	D、10
  一个在执行队列
  ```

  ```txt
  7.在一个多道系统中，若就绪队列不空，就绪的进程数目越多，处理器的效率（ C ）。
  	A、越高		B、越低
  	C、不变		D、不确定
  ```

  ```txt
  8.在进程转换时，下列（ D ）转换是不可能发生的。
  	A、就绪状态→运行状态
  	B、运行状态→就绪状态
  	C、运行状态→阻塞状态
  	D、阻塞状态→运行状态
  ```

  ```txt
  9.一个进程被唤醒，意味着（ A ）
  A、该进程可以重新竞争CPU
  B、优先级变大
  C、PCB移动到就绪队列之首
  D、进程变为运行状态
  ```

  ```txt
  10.下列说法不正确的是（ C ）。
  	A、一个进程可以创建一个或多个线程
  	B、一个线程可以创建一个或多个线程
  	C、一个线程可以创建一个或多个进程
  	D、一个进程可以创建一个或多个进程
  ```

  ```txt
  下列选项中，导致创建新进程的操作是（  C）
  		Ⅰ.用户登录成功	Ⅱ.设备分配
  		Ⅲ.启动程序执行
  	A、 仅Ⅰ和Ⅱ 		B、 仅Ⅱ和Ⅲ 
  	C、 仅Ⅰ和Ⅲ 		D、 Ⅰ、Ⅱ、Ⅲ
  ```

  ```txt
  下列选项中，降低进程优先级的合理时机是（  A ）。
  	A、进程时间片用完
  	B、进程刚完成I/O操作，进入就绪队列
  	C、进程长期处于就绪队列
  	D、进程从就绪状态转为运行状态
  ```

  ———————————————————————进程同步————————————————————————

  * ### 同步——》相互制约——》信号量——》互斥——》生产者消费者、哲学家进餐

  * 原语是指完成某种功能而不被分割和不被中断执行的操作序列，通常可由硬件来实现完成不被分割
    执行特性的功能。如前述的“TestAndSet”和“Swap” 指令，就是由硬件实现的原子操作。

  * 临界区：每个进程中访问临界资源的那段代码为临界区

  * 进入区：对临界资源进行检查的代码为进入区（检查是否有其他在访问之类的）

  * 退出区：将正在访问的标志恢复成未访问的标志

  * 剩余区：剩下的都是

  ```txt
  1.不需要信号量就能实现的功能是（D  ）
  A、进程同步
  B、进程互斥
  C、执行的前驱关系
  D、进程的并发执行
  P57
  ```

  ```txt
  2.若一个信号量的初值为3，进过多次PV操作以后当前值为-1，此表示等待进去临界区的进程数是（ A ）
  	A、1	B、2		C、3	D、4
  记录型信号量的绝对值代表等待数量
  ```

  ```txt
  3.一个正在访问临界资源的进程由于申请等待I/O操作而被中断时，它是（ C ）
  	A、可以允许其他进程进入与该进程相关的临界区
  	B、不允许其他进程进入任何临界区
  	C、可以允许其他进程抢占处理器，但不得进入该进程的临界区
  	D、不允许任何进程抢占处理器
  ```

  ```txt
  5.进程A和进程B通过共享缓冲区协作完成数据处理，进程A负责产生数据并放入缓冲区，进程B从缓冲区读数据并输出。进程A和进程B之间的制约关系是（C  ）
  A、互斥关系			B、同步关系
  C、互斥和同步关系		D、无制约关系
  ```

  ```txt
  6.在操作系统中，P、V操作是一种（ D ）
  	A、机器指令		
  	B、系统调用命令
  	C、作业控制命令	
  	D、低级进程通信原语
  ```

  ```txt
  7.P操作可能导致（ C ）
  	A、进程就绪
  	B、进程结束
  	C、进程阻塞
  	D、新进程创建
  ```

  ```txt
  9在用信号量机制实现互斥时，互斥信号量的初值为（ B ）
  	A、0	B、1		C、2	D、3
  ```

  ```txt
  10.用P、V操作实现进程同步，信号量的初值为（ D ）
  A、-1	B、0		C、1		D、由用户确定
  ```

  ```txt
  11.可以被多个进程在任意时刻共享的代码必须是（  C）
  	A、顺序代码
  	B、机器语言代码
  	C、不允许任何修改的代码
  	D、无转移指令代码
  
  ```

  ```txt
  14.当一个进程因在互斥信号量mutex上执行V操作而导致唤醒另一个进程时，执行V操作后mutex的值为（ D ）
  	A、大于0		B、小于0
  	C、大于等于0	D、小于等于0
  
  ```

  ```txt
  16.对信号量S执行P操作后，使该进程进入资源等待队列的条件是（ A ）
  	A、S.value<0
  	B、S.value<=0
  	C、S.value>0
  	D 、S.value>=0
  ```

  ```txt
  17.如果系统有n个进程，则就绪队列中进程的个数最多有（ C ）个；阻塞队列中进程的个数最多有（  B）个。
  A、n+1	  B、n		C、n-1	D、1
  ```

  ```txt
  18.下列关于PV操作的说法正确的是（ B ）
  Ⅰ.PV操作是一种系统调用命令
  Ⅱ.PV操作是一种低级进程通信原语
  Ⅲ.PV操作是由一个不可被中断的过程组成
  Ⅳ.PV操作是由两个不可被中断的过程组成
  A、Ⅰ、Ⅲ		B、Ⅱ、Ⅳ
  C、Ⅰ、Ⅱ、Ⅳ	D、Ⅰ、Ⅳ
  ```

  ```txt
  19.有一个计数信号量S：
  1）假如若干个进程队S进行了28次P操作和18次V操作之后，信号量S的值为0。
  2）假如若干个进程对信号量S进行了15次P操作和2次V操作。请问此时有多少个进程等待在信号量S的队列中（ B ）。
  	A、2	B、3		C、5	D、7
  	
  对S进行了28次P操作和18次V操作，即S-28+18=0，得信号量的初值为10；然后，对信号量S进行了15次P操作和2次V操作，即S-15+2=10-15+2=-3，S信号量的负值绝对值表示等待队列中的进程数，所以有3个进程等待在信号量S的队列中。
  ```

  ```txt
  在9个生产者、6个消费者共享容量为8的缓冲器的生产者-消费者问题中，互斥使用缓冲器的信号量初始值为（ A）。
  	A、1	B、6	
      C、8	D、9
  ```

  ```txt
  有两个并发执行的进程P1和进程P2，共享初值为1的变量x。P1对x加1，P2对x减1。加1和减1操作的指令序列分别如下：
  	//加1操作				//减1操作
  	load R1,x  //取x到寄存器R1中		load R2,x  //取x到寄存器R2中
  	inc R1				dec  R2
  	store  x,R1  //将R1的内容存入x	store x,R2  //将R2的内容存入x
  两个操作完成后，x的值（  C ）
  A、可能为-1或3			B、只能为1
  C、可能为0、1或2		D、可能为-1、0、1或2
  
  ```

  ```txt
  下列关于管道（Pipe）通信的叙述中，正确的是（ C  ）。
  A、一个管道可实现双向数据传输
  B、管道的容量仅受磁盘容量大小限制
  C、进程对管道进行读操作和写操作都可能被阻塞
  D、一个管道只能有一个读进程或一个写进程对其操作
  ```

  ```txt
  下列选项中，会导致进程从执行态变为就绪态的事件是（ D  ）。
  A、执行P（wait）操作
  B、申请内存失败
  C、启动I/O设备
  D、被高优先级进程抢占
  ```

  # 第三章

  * ### 高级调度与低级调度的主要任务是什么？为什么要引入中级调度？

    高级调度的主要任务：根据某算法，把外存上处于后备队列中的那些作业调入内存

    低级调度室保存处理机的现场信息，按某种算法先取进程，再把处理器分配给进程。

    引入中级调度的主要目的是为了提高内存利用率和系统吞吐量。是那些暂时不能运行的进程不再占用内存资源，将他们调至外存等待，把进程状态改为就绪状态或挂起状态。

  * ### 处理机调度算法的共同目标是什么？批处理系统的调度目标是什么？

    共同目标：资源利用率、公平性、平衡性，策略强制执行

    批处理系统的调度目标：平均周转时间短，系统吞吐量高，处理机利用率高

* ### 在选择调度方式和调度算法时，应遵循的准则是什么？

  （1）面向用户的准则：周转时间短、响应时间快、截止时间的保证、优先权准则

  （2）面向系统的准则：系统吞吐量高、处理机利用率好、各类资源的平衡利用

* ###  在批处理系统、分时系统和实时系统中，各采用哪几种进程（作业）调度算法？

  批处理：短作业优先、优先权、高响应比优先、多级反馈队列调度算法

  分时系统的调度算法：时间片轮转法

  实时系统：最早截止时间优先（EDF）、最低松弛度优先（LLF）

* ### 何谓静态和动态优先级？确定静态优先级的依据是什么？

  静态优先级：在创建进程时，就将该进程的优先级确定下来，并且在整个运行过程中优先级保持不变

  动态优先级：在创建时赋予优先级，但是这个优先级可以随着进程的推进或时间等因素动态地改变，可以获得更好的调度性能

  依据：进程类型、进程对资源的需求’、用户的需求

* ### 为什么说多级反馈队列调度算法能较好地满足各方面用户的需要？

  对于终端型作业用户：他们提交的作业大多属于较小的交互型作业，系统只要使这些作业在第1级队列规定的时间片内完成，便可使终端型作业用户感到满意

  对于短批处理作业用户：对于这种作业，如果可载第一级队列中执行完成，便获得与终端作业一样的响应时间，对于稍长的短作业，也只需在第二和第三级队列各执行一段时间片完成，其周转时间仍然较短

  长批处理作业用户：对于长作业，它将依次在第1、2、3、4。。。n个队列中运行，然后再按轮转方式运行，用户不必担心其作业长期得不到处理

* ### 为什么在实时系统中，要求系统（尤其是CPU）具有较强的处理能力？

  实时系统中通常有多个实时任务，若处理机的处理能力不够强，有可能因为处理机忙不过来而使某些实时任务得不到及时处理，导致发生难以预料的后果。

* ### 何谓死锁，产生死锁的原因和必要条件是什么？

  死锁：多个进程在运行过程中因抢夺资源而造成的一种僵局，当进程处于这种僵持状态时，若无外力作用，他们将无法再向前推进

  原因：竞争资源和进程间推进顺序非法

  必要条件：互斥条件、请求和保持条件、不可抢占条件、循环等待条件

* ### 试说明可以通过哪些途径预防死锁？

  ①破坏“请求和保持条件”：保证当一个进程在请求资源时，它不能持有不可抢占资源。

  ​    方式一：在开始运行之前，必须一次性地申请其在整个运行过程中所需要的全部资源

  ​    方式二：允许一个进程只获得运行初期所需的资源后便开始运行，进程运行过程中再逐步释放已分配给自己的、且   	已用完的全部资源，然后再请求新的资源

  ②破坏“不可抢占条件”：当某个进程已经保持了一些不可抢占的资源并且提出新的资源请求得不到满足时，它必须释放所有已经保持的资源，待以后需要的时候再申请。

  ③破坏“循环等待条件”：将所有资源按类型排序标号，所有进程对资源的请求必须严格按序号递增的次序提出。

* ![](https://ws1.sinaimg.cn/large/0067fcixly1fyj1uhrtd3j30qz0im40h.jpg)

  （1）安全

  （2）不能

```txt
一、选择题
(1)在三种基本类型的操作系统中，都设置了__C__，在批处理系统中还应设置__B__，在分时系统中除了__C__，通常还设置了___D___。
A.剥夺调度	B.作业调度	C.进程调度	D.中级调度

一、选择题
(2)我们如果为每一个作业只建立一个进程，则为了照顾短作业用户，应采用__B____；为照顾紧急作业的用户，应采用___E___；为能实现人机交互作用采用___C___；而能使短作业、长作业及交互作业用户都比较满意时，应采用___D___。
A.FCFS调度算法		B.短作业优先调度算法	
C.时间片轮转法		D.多级反馈队列调度算法
E.基于优先权调度算法

一、选择题
(3)产生死锁的基本原因是___B__和___A___，产生死锁的四个必要条件是互斥条件，___C___，不剥夺条件和____B__。
①A.资源分配不当		B.竞争资源	
    C.作业调度不当		D.资源的独占性
②A.进程推进顺序不当	B.进程调度不当	
    C.系统中进程太多		D.CPU运行不快
③A.请求和阻塞条件		B.请求和释放条件	
    C.请求和保持条件		D.释放和阻塞条件
④A.线性增长条件		B.环路等待条件	
    C.无序释放条件		D.有序请求条件

一、选择题
(4)实际操作系统，要兼顾资源的使用效率和安全可靠，对资源的分配策略，往往采用___D___策略。
A.预防死锁	B.避免死锁	C.检测死锁	D.三者的混合
(5)在下列死锁的解决办法中，属于预防死锁策略的是___B_。
A.银行家算法		B.资源有序分配法	
C.死锁检测法		D.资源分配图化简法

二、填空题
(1)资源的一次分配法和有序分配法分别破坏了产生死锁的必要条件中的____请求和保持条件___和___环路等待条件___，它们属于___预防死锁_，而银行家算法属于___避免死锁_。
(2)作业调度是从__后备作业队列__中选出一__批__作业，为它们分配__资源__，并为它们创建___进程_。

二、填空题
(3)最有利于提高系统吞吐量的作业调度算法是_短作业优先算法_；能对紧急作业进行及时处理的调度算法是_高优先权优先算法_；能较好的满足短作业用户要求，又能适当的照顾长作业，以及照顾作业到达次序的调度算法是_高响应比优先算法_。
(4)在高响应比优先的调度算法中，当各个作业的等待时间相同时，_短作业_将得到优先调度；当各个作业要求的运行时间相同时，_等待时间最长者_将得到优先调度。

```

```txt
三、应用题
1.设有三道作业，它们的提交时间和运行时间如下表：
	作业号	     提交时刻(时)	运行时间(小时)
     1		      10.00			2
     2		      10.10			1
     3		      10.25		    0.25
求：试给出下面两种调度算法下，作业的执行顺序、平均周转时间和平均带权周转时间。
(1)先来先服务FCFS调度算法
(2)短作业优先SJF调度算法

周转时间=完成时间-到达时间
平均周转时间=mean(周转时间)
带权周转时间=周转时间/服务时间
服务时间=需要运行的时间
```

![](https://ws1.sinaimg.cn/large/0067fcixly1fyj3wvrp7kj30s20i4tbk.jpg)

![](https://ws1.sinaimg.cn/large/0067fcixly1fyj3x7k5rlj30se0hitbm.jpg)

```txt
三、应用题
2.设有四道作业，它们的提交时间和运行时间如下表：
作业号	提交时刻(时)		运行时间(小时)
     1		      8:00		         2.0
     2		      8:50		         0.5
     3		      9:00		         0.1
     4		      9:50		         0.2
求：试给出下面三种调度算法下，作业的执行顺序、平均周转时间和平均带权周转时间。
(1)先来先服务FCFS调度算法
(2)短作业优先SJF调度算法
(3)高响应比优先调度算法

高响应比优先调度算法： 权值 = （等待时间+要求服务时间）/（要求服务时间）
```

![](C:\Users\ScorpioMiku\AppData\Roaming\Typora\typora-user-images\1545745883463.png)

![](C:\Users\ScorpioMiku\AppData\Roaming\Typora\typora-user-images\1545745836335.png)

![](https://ws1.sinaimg.cn/large/0067fcixly1fyjbwn5wmgj30tr0mzn2z.jpg)

